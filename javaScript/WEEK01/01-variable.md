# 변수
## 들어가기 전..
### 용어 정리

- 자바스크립트 엔진

  - 자바스크립트 엔진에는 V8, SpiderMonkey, JavaScriptCore 등이 있음.

  - 자바스크립트 엔진은 자바스크립트 코드를 파싱하여 CPU가 이해할 수 있는 저수준 언어로 변환하고 실행함.

- 평가(evaluation)

  - 자바스크립트 엔진이 자바스크립트 코드를 계산하는 것

- 표현식(expression)

  - <b>값을 반환</b>하는 식 또는 코드

- 파싱(parsing)

  - 'parsing'의 사전적 의미는 '(어구·문장의) 분석'

  - 프로그래밍에서 파싱이란, 브라우저가 <b>코드를 해석</b>하는 것을 의미함.

- 키워드(keyword)

  - 자바스크립트 엔진이 수행할 동작을 규정한 일종의 <b>명령어</b>

___
## 변수(variable)

- 변수란, 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 의미함.

- 변수를 사용하는 이유

  - 기억하고 싶은 값을 메모리에 저장하고, 필요할 때 마다 그 값을 읽어 들여 <b>재사용</b>하기 위함.

- 메모리(memory)

  - 메모리는 메모리 셀(memory cell)의 집합체

    - 각 메모리 셀은 고유의 메모리 주소(memory address)를 가짐.

  - 컴퓨터는 <b>CPU</b>를 사용하여 연산하고, <b>메모리</b>를 사용하여 데이터를 기억함.

  - 컴퓨터는 모든 데이터를 2진수로 처리함.

    - 메모리에 저장되는 데이터는 모두 2진수로 저장됨.

- 자바스크립트는 개발자가 메모리를 직접적으로 제어하는 것을 허용하지 않음.

  - 이유 : 치명적 오류를 발생시킬 위험이 있음.

  - 즉, 자바스크립트에선 메모리 주소를 통해 값에 직접 접근할 수 없음.

  - 그 대신 값에 안전하게 접근하기 위해 변수를 사용함.

- 변수 이름, 변수 값

  - 변수 이름 → 식별자(identifier)

    - 값이 저장된 메모리 공간을 식별할 수 있는 고유하고 상징적인 이름

    - 사람이 이해할 수 있는 언어로 지음.

  - 변수 값

    - 변수에 저장된 값

___
## 식별자(identifier)

- 식별자란, 어떤 값을 구별해서 식별할 수 있는 고유한 이름을 의미함.

  - 변수 이름에만 국한되는 개념은 아님.

  - 예를 들어 변수, 함수, 클래스 등의 이름도 모두 식별자임.

- 이러한 식별자는 [네이밍 규칙](https://github.com/ahnanne/TIL/blob/main/javaScript/WEEK01/01-variable.md#%EC%8B%9D%EB%B3%84%EC%9E%90-%EB%84%A4%EC%9D%B4%EB%B0%8D-%EA%B7%9C%EC%B9%99)을 준수해야 함.

- 식별자는 값이 아니라 <b>메모리 주소</b>를 기억함.

  - 즉, 식별자는 메모리 주소에 붙인 이름임.

- <b>선언</b>을 통해 자바스크립트 엔진에 식별자의 존재를 알림.

___
## 변수 선언(variable declaration)

- 식별자를 사용하려면 반드시 선언이 필요함.

  - 선언하지 않은 식별자에 접근할 경우 `ReferenceError`(참조 에러) 발생

- 변수 선언이란, 변수를 생성하는 것을 의미함.

- 값을 저장하기 위한 메모리 공간 확보(allocate) + 이렇게 확보된 메모리 공간의 주소와 변수 이름을 연결(binding) → 값을 저장할 수 있도록 준비

- 변수 선언에 의해 확보된 메모리 공간은 확보가 해제(release)되기 전까지 보호됨.

- 변수 선언 시 사용하는 키워드(keyword)

  - `var`

    - ES6 이전까지는 `var`가 변수를 선언할 수 있는 유일한 키워드였음.

    - 여러 단점 존재

  - `let`, `const`

    - ES6 도입

- 변수를 선언만 하고 값을 할당하지 않으면, 변수 선언에 의해 확보된 메모리 공간에는 `undefined`라는 값이 <b>암묵적으로 할당</b>되어 초기화됨.

  - 초기화(initialization) : 변수가 선언된 이후 최초로 값을 할당하는 것

- 쓰레기 값(garbage value)

  - 초기화 단계를 거치지 않아, 확보해놓은 메모리 공간에 이전에 다른 어플리케이션이 사용했던 값이 남아있는 것

  - 암묵적 초기화가 수행되면 이러한 위험으로부터 안전함.

- 변수 선언은 2단계에 걸쳐 수행

  - 선언 단계 : 변수 이름을 등록

  - 초기화 단계 : 메모리 공간 확보 및 암묵적 초기화(`undefined`)

- `var` 키워드를 사용하여 변수를 선언하면 선언 단계와 초기화 단계가 <b>동시에</b> 진행되며, `const` 키워드 또는 `let` 키워드를 사용하면 선언 단계와 초기화 단계가 <b>분리되어</b> 진행됨.

___
## 변수 호이스팅(variable hoisting)

- 변수 선언은 런타임(runtime, 소스코드가 순차적으로 실행되는 시점) 이전에 실행됨.

  - 자바스크립트 엔진이 런타임 이전에 모든 선언문부터 실행하기 때문

  - 즉, 변수 선언문이 소스코드의 어디에 위치하든 상관없이 다른 코드보다 먼저 실행됨.

- 이로 인해 변수 선언문 이전에 어디서든 해당 변수를 참조할 수 있는 현상을 변수 호이스팅이라고 함.

- 변수 호이스팅은 자바스크립트의 고유한 특징이자 <b>부작용</b>!

  - 변수 호이스팅으로 인하여 예상치 못한 결과가 나오기 때문

___
## 값의 할당 및 재할당

- 할당(assignment)

  - 변수에 값을 저장하는 것을 의미함.

  - 변수의 선언은 런타임 이전에 실행되는 반면, 값의 할당은 런타임에 실행됨.

- 참조(reference)

  - 변수에 저장된 값을 읽어들이는 것을 의미함.

- 재할당

  - 현재 변수에 저장된 값을 버리고 새로운 값을 저장하는 것

  - `var` 키워드와 `let` 키워드로 선언한 변수는 값을 재할당할 수 있음.

    - `const` 키워드로 선언한 변수는 재할당 불가능

- 재할당할 때는 이전 값이 저장되어 있던 메모리 공간을 비우고 그 동일한 공간에 재할당 값을 새롭게 저장하는 것이 아니라, 새로운 메모리 공간을 확보하고 그 새로운 공간에 재할당 값을 저장함.

  - 이렇게 되면 기존의 메모리 공간에 있던 값은 더 이상 아무도 참조하지 않게 되므로, 가비지 콜렉터(garbage collector)에 의해 메모리에서 자동 해제됨.

  - 가비지 콜렉터란 어플리케이션이 메모리 공간을 주기적으로 검사하고, 어떤 식별자도 참조하지 않는 메모리 공간은 해제하는 기능을 의미함.

- 자바스크립트는 매니지드 언어(managed language)로서, 가비지 콜렉터를 내장하고 있음.

  - 매니지드 언어

    - 메모리 관리 기능을 언어 차원에서 담당하며 개발자의 직접적인 메모리 제어를 허용하지 않음.

    - 반대의 경우인 언매니지드 언어로는 C언어가 대표적

___
## 값의 교환(temp)

- 두 변수의 값을 교환하고 싶을 땐 임시 저장소 개념의 변수를 새로 선언하여 두 변수 값 중 하나의 값을 '맡겨'두는 방법을 사용할 것

  - 교환 과정에서 기존 변수 값을 잃어버리지 않기 위함.

  - 임시 저장소로 선언하는 변수 이름은 보통 temp라고 지음.

___
## 식별자 네이밍 규칙

- `문자`, `숫자`, `_`, `$` 포함 가능

- `숫자`로 시작할 수 없음.

- `특수문자`를 포함할 수 없음.

- `예약어`는 사용할 수 없음.

  - 예약어(reserved word) : 프로그래밍 언어에서 사용되고 있거나 사용될 예정인 단어를 의미함.
  
  - JavaScript의 예약어로는 `await`, `break`, `case`, `catch`, `class`, `const`, `continue`, `debugger`, `default`, `delete`, `enum` 등이 있음.
